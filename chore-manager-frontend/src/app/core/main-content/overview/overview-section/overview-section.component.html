<div class="my-3 p-3 bg-body rounded shadow-sm" [class.d-none]="!tasks">
  <h6 class="pb-2 mb-2 text-muted">{{sectionTitle}}</h6>
  <div class="container">

    <div class="row align-items-center py-3"
         [class.border-bottom]="tasks && indexOfTask !== tasks.length - 1"
         *ngFor="let task of tasks; let indexOfTask = index;">
      <div class="col mb-3 mb-md-0">
        <div>
          <strong>
            <span
              *ngIf="authService.user?.households?.length && authService.user?.households!.length > 1"
              class="badge rounded-pill bg-secondary">{{task.item.category.household.name}}
            </span>
            {{task.name}}
          </strong>
        </div>
        <div class="small text-muted">{{task.item.category.name}} Â· {{task.item.name}}</div>
      </div>

      <div class="w-100 d-md-none d-sm-block"></div>

      <div class="col-auto text-end me-3-md">
        <img [src]="user.image" width="38" height="38"
             [alt]="user.name"
             class="rounded-circle border border-2 border-white"
             *ngFor="let user of task.reminder.usersToNotify; let indexOfUser = index;"
             [class.offset-user-image]="indexOfUser">
      </div>

      <div class="col-md-2 col text-end">
        <div class="pe-md-3"
             [class.text-danger]="task.occurrence.daysUntilNextOccurrence < 0">{{task | occurrence}}</div>
      </div>

      <div class="col-auto">
        <app-instant-completion [task]="task"
                                (changesSaved)="instantlyCompleteTask.emit()"
                                (completeTask)="completeTask.emit($event)"
                                (showTaskDetails)="showTaskDetails.emit($event)"
                                (showCompletionHistory)="showCompletionHistory.emit($event)"></app-instant-completion>
      </div>
    </div>
  </div>
</div>
